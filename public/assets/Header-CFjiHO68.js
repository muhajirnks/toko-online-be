import{r as y,w as ir,v as sr,x as lr,D as S,F as cr,E as G,j as a,K as l,G as pr,H as gr,ac as dr,c as m,a8 as mr,u as hr,a as ur,ad as xr,ae as fr,af as F,ag as E,L as v,a0 as br,B as N,ah as vr,_ as yr,ai as Or,aj as jr}from"./index-CoCr-Lwu.js";import{T as x}from"./Typography-3PLUSMmk.js";import{u as Cr}from"./useCartStore-BRvEBAv5.js";import{I as U}from"./IconButton-De274572.js";import{A as Pr}from"./Avatar-DKP2U2G5.js";import{a as Rr}from"./Menu-BHH0Xlnd.js";import{D as Nr}from"./Divider-CEmajuvZ.js";import{M as W}from"./MenuItem-Cds6f5lz.js";import{L as H}from"./ListItemIcon-DlNqj8GI.js";import{L as V}from"./ListItemText-De2W9_Y4.js";function Z(o){const r=y.useRef({});return y.useEffect(()=>{r.current=o}),r.current}function Br(o){const{badgeContent:r,invisible:t=!1,max:i=99,showZero:e=!1}=o,d=Z({badgeContent:r,max:i});let c=t;t===!1&&r===0&&!e&&(c=!0);const{badgeContent:s,max:p=i}=c?d:o,h=s&&Number(s)>p?`${p}+`:s;return{badgeContent:s,invisible:c,max:p,displayValue:h}}function zr(o){return sr("MuiBadge",o)}const g=ir("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),B=10,z=4,Mr=o=>{const{color:r,anchorOrigin:t,invisible:i,overlap:e,variant:d,classes:c={}}=o,s={root:["root"],badge:["badge",d,i&&"invisible",`anchorOrigin${l(t.vertical)}${l(t.horizontal)}`,`anchorOrigin${l(t.vertical)}${l(t.horizontal)}${l(e)}`,`overlap${l(e)}`,r!=="default"&&`color${l(r)}`]};return pr(s,zr,c)},kr=G("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Lr=G("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(o,r)=>{const{ownerState:t}=o;return[r.badge,r[t.variant],r[`anchorOrigin${l(t.anchorOrigin.vertical)}${l(t.anchorOrigin.horizontal)}${l(t.overlap)}`],t.color!=="default"&&r[`color${l(t.color)}`],t.invisible&&r.invisible]}})(gr(({theme:o})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(12),minWidth:B*2,lineHeight:1,padding:"0 6px",height:B*2,borderRadius:B,zIndex:1,transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.enteringScreen}),variants:[...Object.entries(o.palette).filter(dr(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(o.vars||o).palette[r].main,color:(o.vars||o).palette[r].contrastText}})),{props:{variant:"dot"},style:{borderRadius:z,height:z*2,minWidth:z*2,padding:0}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${g.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${g.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${g.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${g.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${g.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${g.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${g.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${g.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.leavingScreen})}}]})));function _(o){return{vertical:o?.vertical??"top",horizontal:o?.horizontal??"right"}}const Tr=y.forwardRef(function(r,t){const i=lr({props:r,name:"MuiBadge"}),{anchorOrigin:e,className:d,classes:c,component:s,components:p={},componentsProps:h={},children:O,overlap:u="rectangular",color:f="default",invisible:j=!1,max:C=99,badgeContent:b,slots:n,slotProps:M,showZero:k=!1,variant:P="standard",...w}=i,{badgeContent:L,invisible:K,max:q,displayValue:J}=Br({max:C,invisible:j,badgeContent:b,showZero:k}),Q=Z({anchorOrigin:_(e),color:f,overlap:u,variant:P,badgeContent:b}),T=K||L==null&&P!=="dot",{color:X=f,overlap:Y=u,anchorOrigin:rr,variant:$=P}=T?Q:i,ar=_(rr),I=$!=="dot"?J:void 0,R={...i,badgeContent:L,invisible:T,max:q,displayValue:I,showZero:k,anchorOrigin:ar,color:X,overlap:Y,variant:$},A=Mr(R),D={slots:{root:n?.root??p.Root,badge:n?.badge??p.Badge},slotProps:{root:M?.root??h.root,badge:M?.badge??h.badge}},[or,tr]=S("root",{elementType:kr,externalForwardedProps:{...D,...w},ownerState:R,className:cr(A.root,d),ref:t,additionalProps:{as:s}}),[er,nr]=S("badge",{elementType:Lr,externalForwardedProps:D,ownerState:R,className:A.badge});return a.jsxs(or,{...tr,children:[O,a.jsx(er,{...nr,children:I})]})}),_r=()=>a.jsx(m,{className:"py-5 z-20",children:a.jsx(x,{className:"text-[16px] text-center",children:"Copyright Â© 2025 | All Rights Reserved."})});function $r(o){return mr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M9 3v18"},child:[]}]})(o)}const Gr=({toggleSidebar:o,isSeller:r=!1})=>{const[t,i]=y.useState(null),{user:e,setUser:d,loading:c,setLoading:s}=hr(),p=Cr(n=>n.getTotalItems()),h=ur(),O=xr(n=>n.theme),u=()=>{i(null)},f=async()=>{s(!0);const{data:n}=await jr();n&&d(null),u(),s(!1)},j=[{path:"/settings/profile",label:"Settings",icon:a.jsx(F,{})},{path:"/admin/dashboard",label:"Admin Panel",icon:a.jsx(E,{})}],C=[{path:"/orders",label:"My Orders",icon:a.jsx(fr,{})},{path:"/settings/profile",label:"Settings",icon:a.jsx(F,{})},{path:e?.store?"/seller/dashboard":"/seller/store/create",label:e?.store?"Seller Panel":"Create Store",icon:a.jsx(E,{})}],b=e?.role=="admin"?j:C;return a.jsxs(m,{component:"header",className:`sticky left-0 top-0 z-1199 flex justify-between items-center border-b border-background-paper-light py-5 pl-5 pr-10 ${O=="dark"?"bg-background":"bg-background-paper"}`,id:"header",sx:{height:"75px"},children:[a.jsx(m,{className:"flex gap-3 items-center",children:r?a.jsx(U,{onClick:o,children:a.jsx($r,{className:"text-base"})}):a.jsx(x,{variant:"h6",component:v,to:"/",className:"font-bold text-primary no-underline mr-4",children:"TokoOnline"})}),a.jsxs(m,{className:"flex gap-[15px] items-center",children:[!r&&e?.role=="user"&&a.jsx(U,{component:v,to:"/cart",color:"inherit",children:a.jsx(Tr,{badgeContent:p,color:"primary",children:a.jsx(br,{})})}),e?a.jsxs(N,{color:"inherit",onClick:n=>i(n.currentTarget),className:"flex gap-2 items-center",children:[a.jsx(Pr,{alt:e.name||"User Avatar",sx:{width:"35px",height:"35px",cursor:"pointer","&:hover":{opacity:.8,transition:"opacity 0.2s ease-in-out"}}}),a.jsxs(m,{className:"flex flex-col items-start text-left normal-case",children:[a.jsx(x,{variant:"body2",className:"font-semibold line-clamp-1",children:e.name}),a.jsx(x,{variant:"caption",color:"text.secondary",children:e.role})]}),a.jsx(vr,{className:`${t?"rotate-270":"rotate-90"} transition-transform text-foreground-secondary ml-1`})]}):a.jsxs(m,{className:"flex gap-2",children:[a.jsx(N,{component:v,to:"/login",variant:"outlined",color:"primary",size:"small",className:"rounded-full px-6",children:"Login"}),a.jsx(N,{component:v,to:"/register",variant:"contained",color:"primary",size:"small",className:"rounded-full px-6",children:"Register"})]})]}),a.jsxs(Rr,{anchorEl:t,open:!!t,onClose:u,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiPaper-root":{background:"var(--color-background-paper)",mt:1,borderRadius:"10px",minWidth:"220px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(0, 0, 0, 0.1)"}},children:[a.jsxs(m,{className:"px-5 pt-0.5 pb-2.5 border-b border-[#1E1E1E0D]",children:[a.jsx(x,{variant:"h6",className:"text-foreground-primary",children:e?.name}),a.jsx(x,{variant:"body1",className:"text-foreground-secondary",children:e?.email})]}),a.jsx(Nr,{orientation:"horizontal"}),b.map(n=>a.jsxs(W,{onClick:()=>{h(n.path),u()},className:"py-3 px-5 hover:bg-background-paper-light transition-colors",children:[a.jsx(H,{className:"text-xl text-foreground-secondary min-w-[35px]",children:n.icon}),a.jsx(V,{primary:n.label,primaryTypographyProps:{variant:"body2",className:"font-medium"}})]},n.path)),a.jsxs(W,{onClick:f,className:"px-5 py-3",disabled:c,children:[a.jsx(H,{className:"text-red-600 text-xl",children:c?a.jsx(yr,{size:18}):a.jsx(Or,{})}),a.jsx(V,{primary:"Logout",slotProps:{primary:{className:"font-[12px] leading-[150%] text-red-600"}}})]})]})]})};export{_r as F,Gr as H};
