import{r as u,aT as G,j as e,F as U,aU as $,aV as E,aW as P,aX as f,aY as L,aZ as O,a_ as A,G as K,v as N,a$ as S,E as H,x as X,b0 as _,u as q,c as m,_ as J,P as g,b1 as Q,B as T,L as y,$ as Y,ag as Z,aM as w}from"./index-CoCr-Lwu.js";import{b as ee}from"./product.service-Dk86rO-g.js";import{u as se}from"./useCartStore-BRvEBAv5.js";import{f as re}from"./stringUtils-CDJQw5-v.js";import{C as B}from"./Container-DLkYmbpc.js";import{T as d}from"./Typography-3PLUSMmk.js";import{B as te,L as z}from"./Link-DOQsPX9o.js";import{G as j}from"./Grid-BdMrhXSd.js";import{C as b}from"./Chip-BPvolZT3.js";import{D as oe}from"./Divider-CEmajuvZ.js";import{s as ae}from"./styled-Dr_zOePF.js";import{T as ne}from"./TextField-CWhFec2Z.js";import"./useFetch-Ef9WPhKv.js";import"./prepareFormData-CaUafuFc.js";import"./createSvgIcon-f0cybHIH.js";import"./Portal-Db180ur5.js";import"./isMuiElement-41k7TQVi.js";import"./dividerClasses-QzE5IgDx.js";import"./Select-eAE6PZsy.js";import"./Menu-BHH0Xlnd.js";import"./List-B8z-TvVg.js";import"./useControlled-CQs6qZha.js";const ie=E(),le=ae("div",{name:"MuiStack",slot:"Root"});function ce(s){return $({props:s,name:"MuiStack",defaultTheme:ie})}function de(s,a){const n=u.Children.toArray(s).filter(Boolean);return n.reduce((i,c,o)=>(i.push(c),o<n.length-1&&i.push(u.cloneElement(a,{key:`separator-${o}`})),i),[])}const me=s=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[s],pe=({ownerState:s,theme:a})=>{let n={display:"flex",flexDirection:"column",...P({theme:a},f({values:s.direction,breakpoints:a.breakpoints.values}),i=>({flexDirection:i}))};if(s.spacing){const i=L(a),c=Object.keys(a.breakpoints.values).reduce((r,l)=>((typeof s.spacing=="object"&&s.spacing[l]!=null||typeof s.direction=="object"&&s.direction[l]!=null)&&(r[l]=!0),r),{}),o=f({values:s.direction,base:c}),p=f({values:s.spacing,base:c});typeof o=="object"&&Object.keys(o).forEach((r,l,x)=>{if(!o[r]){const h=l>0?o[x[l-1]]:"column";o[r]=h}}),n=O(n,P({theme:a},p,(r,l)=>s.useFlexGap?{gap:S(i,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${me(l?o[l]:s.direction)}`]:S(i,r)}}))}return n=A(a.breakpoints,n),n};function ue(s={}){const{createStyledComponent:a=le,useThemeProps:n=ce,componentName:i="MuiStack"}=s,c=()=>K({root:["root"]},r=>N(i,r),{}),o=a(pe);return u.forwardRef(function(r,l){const x=n(r),v=G(x),{component:h="div",direction:I="column",spacing:M=0,divider:k,children:C,className:D,useFlexGap:R=!1,...V}=v,W={direction:I,spacing:M,useFlexGap:R},F=c();return e.jsx(o,{as:h,ownerState:W,ref:l,className:U(F.root,D),...V,children:k?de(C,k):C})})}const xe=ue({createStyledComponent:H("div",{name:"MuiStack",slot:"Root"}),useThemeProps:s=>X({props:s,name:"MuiStack"})}),Ue=()=>{const{id:s}=_(),[a,n]=u.useState(1),i=se(r=>r.addItem),c=q(r=>r.user),{data:o,loading:p}=ee(s);if(p)return e.jsx(m,{sx:{display:"flex",justifyContent:"center",py:20},children:e.jsx(J,{size:60})});if(!o?.data)return e.jsx(B,{sx:{py:10},children:e.jsxs(g,{sx:{p:5,textAlign:"center",borderRadius:4},children:[e.jsx(Q,{size:60,color:"gray"}),e.jsx(d,{variant:"h5",sx:{mt:2},children:"Produk tidak ditemukan"}),e.jsx(T,{component:y,to:"/products",variant:"contained",sx:{mt:3},children:"Kembali ke Toko"})]})});const t=o.data;return e.jsxs(B,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(te,{sx:{mb:4},children:[e.jsx(z,{component:y,to:"/",underline:"hover",color:"inherit",children:"Beranda"}),e.jsx(z,{component:y,to:"/products",underline:"hover",color:"inherit",children:"Produk"}),e.jsx(d,{color:"text.primary",sx:{fontWeight:"bold"},children:t.name})]}),e.jsxs(j,{container:!0,spacing:6,children:[e.jsx(j,{size:{xs:12,md:6},children:e.jsx(g,{elevation:0,sx:{borderRadius:4,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:e.jsx(m,{component:"img",src:t.imageUrl||"https://community.softr.io/uploads/db9110/original/2X/7/74e6e7e382d0ff5d7773ca9a87e6f6f8817a68a6.jpeg",alt:t.name,sx:{width:"100%",display:"block",transition:"transform 0.3s","&:hover":{transform:"scale(1.02)"}}})})}),e.jsx(j,{size:{xs:12,md:6},children:e.jsxs(m,{children:[e.jsx(b,{label:t.category.name||"Kategori",color:"primary",variant:"outlined",size:"small",sx:{mb:2,fontWeight:"bold"}}),e.jsx(d,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",sx:{fontSize:{xs:"2rem",md:"2.5rem"}},children:t.name}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(d,{variant:"h4",color:"primary",fontWeight:"bold",children:re(t.price)}),t.stock>0?e.jsx(b,{label:"Stok Tersedia",color:"success",size:"small",variant:"filled"}):e.jsx(b,{label:"Stok Habis",color:"error",size:"small",variant:"filled"})]}),e.jsx(oe,{sx:{my:3}}),e.jsx(d,{variant:"h6",fontWeight:"bold",sx:{mb:1},children:"Deskripsi Produk"}),e.jsx(d,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.7,mb:4},children:t.description}),e.jsx(g,{variant:"outlined",sx:{p:2,mb:4,borderRadius:3,bgcolor:"grey.50"},children:e.jsxs(xe,{direction:"row",spacing:3,children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Y,{color:"#666"}),e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Stok: ",e.jsx("strong",{children:t.stock})]})]}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Z,{color:"#666"}),e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Penjual:"," ",e.jsx("strong",{children:t.store?.name||"Official Store"})]})]})]})}),c?.role=="user"&&e.jsxs(m,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(ne,{type:"number",label:"Jumlah",size:"medium",value:a,onChange:r=>n(Math.max(1,parseInt(r.target.value)||1)),inputProps:{min:1,max:t.stock},sx:{width:100}}),e.jsx(T,{variant:"contained",size:"large",fullWidth:!0,startIcon:e.jsx(w,{}),onClick:()=>i(t,a),disabled:t.stock<=0,sx:{py:1.8,borderRadius:3,fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 14px 0 rgba(0,118,210,0.39)"},children:"Tambah ke Keranjang"})]})]})})]})]})};export{Ue as default};
