import{r as u,aI as G,j as e,C as L,aJ as O,aK as A,aL as P,aM as f,aN as E,aO as K,aP as N,F as U,v as $,aQ as S,D as H,x as J,aR as Q,c as m,a1 as q,P as g,aS as X,B as T,L as y,aT as w,ah as Y,aA as Z}from"./index-ah-KVBrx.js";import{b as _}from"./product.service-D8dGWhJc.js";import{u as ee}from"./useCartStore-BtarvAjT.js";import{s as se,C as B,f as re}from"./useFetch-CdoC-Pj4.js";import{T as d}from"./Typography-DJ04WeU2.js";import{B as te,L as I}from"./Link-97dMPTpB.js";import{G as j}from"./Grid-C39FHBxI.js";import{C as b}from"./Chip-BDvhNyDC.js";import{D as oe}from"./Divider-B9fjoI3E.js";import{T as ae}from"./TextField-B_Nodzy8.js";import"./createSvgIcon-63sNSamf.js";import"./Portal-C53eZYxF.js";import"./isMuiElement-CyNiLc_m.js";import"./dividerClasses-B_xQS7Da.js";import"./Select-Bnogpjny.js";import"./Menu-Bdnv1LW5.js";import"./List-LskSdx5q.js";import"./useControlled-YRzn4aKv.js";const ne=A(),ie=se("div",{name:"MuiStack",slot:"Root"});function le(s){return O({props:s,name:"MuiStack",defaultTheme:ne})}function ce(s,t){const a=u.Children.toArray(s).filter(Boolean);return a.reduce((n,c,o)=>(n.push(c),o<a.length-1&&n.push(u.cloneElement(t,{key:`separator-${o}`})),n),[])}const de=s=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[s],me=({ownerState:s,theme:t})=>{let a={display:"flex",flexDirection:"column",...P({theme:t},f({values:s.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(s.spacing){const n=E(t),c=Object.keys(t.breakpoints.values).reduce((i,l)=>((typeof s.spacing=="object"&&s.spacing[l]!=null||typeof s.direction=="object"&&s.direction[l]!=null)&&(i[l]=!0),i),{}),o=f({values:s.direction,base:c}),r=f({values:s.spacing,base:c});typeof o=="object"&&Object.keys(o).forEach((i,l,x)=>{if(!o[i]){const h=l>0?o[x[l-1]]:"column";o[i]=h}}),a=K(a,P({theme:t},r,(i,l)=>s.useFlexGap?{gap:S(n,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${de(l?o[l]:s.direction)}`]:S(n,i)}}))}return a=N(t.breakpoints,a),a};function pe(s={}){const{createStyledComponent:t=ie,useThemeProps:a=le,componentName:n="MuiStack"}=s,c=()=>U({root:["root"]},i=>$(n,i),{}),o=t(me);return u.forwardRef(function(i,l){const x=a(i),v=G(x),{component:h="div",direction:z="column",spacing:D=0,divider:k,children:C,className:M,useFlexGap:R=!1,...V}=v,W={direction:z,spacing:D,useFlexGap:R},F=c();return e.jsx(o,{as:h,ownerState:W,ref:l,className:L(F.root,M),...V,children:k?ce(C,k):C})})}const ue=pe({createStyledComponent:H("div",{name:"MuiStack",slot:"Root"}),useThemeProps:s=>J({props:s,name:"MuiStack"})}),Re=()=>{const{id:s}=Q(),[t,a]=u.useState(1),n=ee(p=>p.addItem),{data:c,loading:o}=_(s);if(o)return e.jsx(m,{sx:{display:"flex",justifyContent:"center",py:20},children:e.jsx(q,{size:60})});if(!c?.data)return e.jsx(B,{sx:{py:10},children:e.jsxs(g,{sx:{p:5,textAlign:"center",borderRadius:4},children:[e.jsx(X,{size:60,color:"gray"}),e.jsx(d,{variant:"h5",sx:{mt:2},children:"Produk tidak ditemukan"}),e.jsx(T,{component:y,to:"/products",variant:"contained",sx:{mt:3},children:"Kembali ke Toko"})]})});const r=c.data;return e.jsxs(B,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(te,{sx:{mb:4},children:[e.jsx(I,{component:y,to:"/",underline:"hover",color:"inherit",children:"Beranda"}),e.jsx(I,{component:y,to:"/products",underline:"hover",color:"inherit",children:"Produk"}),e.jsx(d,{color:"text.primary",sx:{fontWeight:"bold"},children:r.name})]}),e.jsxs(j,{container:!0,spacing:6,children:[e.jsx(j,{size:{xs:12,md:6},children:e.jsx(g,{elevation:0,sx:{borderRadius:4,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:e.jsx(m,{component:"img",src:r.imageUrl||"https://community.softr.io/uploads/db9110/original/2X/7/74e6e7e382d0ff5d7773ca9a87e6f6f8817a68a6.jpeg",alt:r.name,sx:{width:"100%",display:"block",transition:"transform 0.3s","&:hover":{transform:"scale(1.02)"}}})})}),e.jsx(j,{size:{xs:12,md:6},children:e.jsxs(m,{children:[e.jsx(b,{label:r.category.name||"Kategori",color:"primary",variant:"outlined",size:"small",sx:{mb:2,fontWeight:"bold"}}),e.jsx(d,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",sx:{fontSize:{xs:"2rem",md:"2.5rem"}},children:r.name}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(d,{variant:"h4",color:"primary",fontWeight:"bold",children:re(r.price)}),r.stock>0?e.jsx(b,{label:"Stok Tersedia",color:"success",size:"small",variant:"filled"}):e.jsx(b,{label:"Stok Habis",color:"error",size:"small",variant:"filled"})]}),e.jsx(oe,{sx:{my:3}}),e.jsx(d,{variant:"h6",fontWeight:"bold",sx:{mb:1},children:"Deskripsi Produk"}),e.jsx(d,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.7,mb:4},children:r.description}),e.jsx(g,{variant:"outlined",sx:{p:2,mb:4,borderRadius:3,bgcolor:"grey.50"},children:e.jsxs(ue,{direction:"row",spacing:3,children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{color:"#666"}),e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Stok: ",e.jsx("strong",{children:r.stock})]})]}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Y,{color:"#666"}),e.jsxs(d,{variant:"body2",color:"text.secondary",children:["Penjual: ",e.jsx("strong",{children:r.store?.name||"Official Store"})]})]})]})}),e.jsxs(m,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(ae,{type:"number",label:"Jumlah",size:"medium",value:t,onChange:p=>a(Math.max(1,parseInt(p.target.value)||1)),inputProps:{min:1,max:r.stock},sx:{width:100}}),e.jsx(T,{variant:"contained",size:"large",fullWidth:!0,startIcon:e.jsx(Z,{}),onClick:()=>n(r,t),disabled:r.stock<=0,sx:{py:1.8,borderRadius:3,fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 14px 0 rgba(0,118,210,0.39)"},children:"Tambah ke Keranjang"})]})]})})]})]})};export{Re as default};
