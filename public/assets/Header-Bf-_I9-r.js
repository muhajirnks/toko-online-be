import{r as y,w as er,v as nr,x as ir,A as D,C as sr,D as H,j as a,E as i,F as lr,G as cr,ab as pr,c as m,Z as gr,u as dr,a as mr,N as hr,ag as ur,a3 as xr,ah as fr,L as b,ai as vr,B as C,aj as br,a1 as yr,ak as Or,al as jr}from"./index-Cge5oKAC.js";import{T as u}from"./Typography-DIgyMIMC.js";import{u as Cr}from"./useCartStore-OplLFD40.js";import{I as F}from"./IconButton-B6hvpBYA.js";import{A as Pr}from"./Avatar-BfKYBiCS.js";import{a as Nr}from"./Menu-SyxiUplY.js";import{D as Rr}from"./Divider-DNbn32eB.js";import{M as E}from"./MenuItem-CbfBzxUr.js";import{L as S}from"./ListItemIcon-CDcddpjw.js";import{L as U}from"./ListItemText-yQM5Xsa6.js";function V(o){const r=y.useRef({});return y.useEffect(()=>{r.current=o}),r.current}function Br(o){const{badgeContent:r,invisible:t=!1,max:e=99,showZero:c=!1}=o,p=V({badgeContent:r,max:e});let l=t;t===!1&&r===0&&!c&&(l=!0);const{badgeContent:s,max:g=e}=l?p:o,h=s&&Number(s)>g?`${g}+`:s;return{badgeContent:s,invisible:l,max:g,displayValue:h}}function zr(o){return nr("MuiBadge",o)}const d=er("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),P=10,N=4,kr=o=>{const{color:r,anchorOrigin:t,invisible:e,overlap:c,variant:p,classes:l={}}=o,s={root:["root"],badge:["badge",p,e&&"invisible",`anchorOrigin${i(t.vertical)}${i(t.horizontal)}`,`anchorOrigin${i(t.vertical)}${i(t.horizontal)}${i(c)}`,`overlap${i(c)}`,r!=="default"&&`color${i(r)}`]};return lr(s,zr,l)},Lr=H("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Mr=H("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(o,r)=>{const{ownerState:t}=o;return[r.badge,r[t.variant],r[`anchorOrigin${i(t.anchorOrigin.vertical)}${i(t.anchorOrigin.horizontal)}${i(t.overlap)}`],t.color!=="default"&&r[`color${i(t.color)}`],t.invisible&&r.invisible]}})(cr(({theme:o})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(12),minWidth:P*2,lineHeight:1,padding:"0 6px",height:P*2,borderRadius:P,zIndex:1,transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.enteringScreen}),variants:[...Object.entries(o.palette).filter(pr(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(o.vars||o).palette[r].main,color:(o.vars||o).palette[r].contrastText}})),{props:{variant:"dot"},style:{borderRadius:N,height:N*2,minWidth:N*2,padding:0}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${d.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${d.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${d.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${d.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${d.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${d.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${d.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${d.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.leavingScreen})}}]})));function W(o){return{vertical:o?.vertical??"top",horizontal:o?.horizontal??"right"}}const Tr=y.forwardRef(function(r,t){const e=ir({props:r,name:"MuiBadge"}),{anchorOrigin:c,className:p,classes:l,component:s,components:g={},componentsProps:h={},children:x,overlap:f="rectangular",color:v="default",invisible:n=!1,max:Z=99,badgeContent:R,slots:B,slotProps:z,showZero:k=!1,variant:O="standard",...G}=e,{badgeContent:L,invisible:_,max:w,displayValue:q}=Br({max:Z,invisible:n,badgeContent:R,showZero:k}),J=V({anchorOrigin:W(c),color:v,overlap:f,variant:O,badgeContent:R}),M=_||L==null&&O!=="dot",{color:K=v,overlap:Q=f,anchorOrigin:X,variant:T=O}=M?J:e,Y=W(X),$=T!=="dot"?q:void 0,j={...e,badgeContent:L,invisible:M,max:w,displayValue:$,showZero:k,anchorOrigin:Y,color:K,overlap:Q,variant:T},I=kr(j),A={slots:{root:B?.root??g.Root,badge:B?.badge??g.Badge},slotProps:{root:z?.root??h.root,badge:z?.badge??h.badge}},[rr,ar]=D("root",{elementType:Lr,externalForwardedProps:{...A,...G},ownerState:j,className:sr(I.root,p),ref:t,additionalProps:{as:s}}),[or,tr]=D("badge",{elementType:Mr,externalForwardedProps:A,ownerState:j,className:I.badge});return a.jsxs(rr,{...ar,children:[x,a.jsx(or,{...tr,children:$})]})}),Zr=()=>a.jsx(m,{className:"py-5 z-20",children:a.jsx(u,{className:"text-[16px] text-center",children:"Copyright Â© 2025 | All Rights Reserved."})});function $r(o){return gr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M9 3v18"},child:[]}]})(o)}const Gr=({toggleSidebar:o})=>{const[r,t]=y.useState(null),{user:e,setUser:c,loading:p,setLoading:l}=dr(),s=Cr(n=>n.getTotalItems()),g=mr(),h=hr(n=>n.theme),x=()=>{t(null)},f=async()=>{l(!0);const{data:n}=await jr();n&&c(null),x(),l(!1)},v=[{path:"/orders",label:"My Orders",icon:a.jsx(ur,{})},{path:"/settings/profile",label:"Settings",icon:a.jsx(xr,{})},...e?.role==="user"||e?.role==="admin"?[{path:"/seller/products",label:"Seller Panel",icon:a.jsx(fr,{})}]:[]];return a.jsxs(m,{component:"header",className:`sticky left-0 top-0 z-1199 flex justify-between items-center border-b border-background-paper-light py-5 pl-5 pr-10 ${h=="dark"?"bg-background":"bg-background-paper"}`,id:"header",sx:{height:"75px"},children:[a.jsx(m,{className:"flex gap-3 items-center",children:o?a.jsx(F,{onClick:o,children:a.jsx($r,{className:"text-base"})}):a.jsx(u,{variant:"h6",component:b,to:"/",className:"font-bold text-primary no-underline mr-4",children:"TokoOnline"})}),a.jsxs(m,{className:"flex gap-[15px] items-center",children:[a.jsx(F,{component:b,to:"/cart",color:"inherit",children:a.jsx(Tr,{badgeContent:s,color:"primary",children:a.jsx(vr,{})})}),e?a.jsxs(C,{color:"inherit",onClick:n=>t(n.currentTarget),className:"flex gap-2 items-center",children:[a.jsx(Pr,{alt:e.name||"User Avatar",sx:{width:"35px",height:"35px",cursor:"pointer","&:hover":{opacity:.8,transition:"opacity 0.2s ease-in-out"}}}),a.jsxs(m,{className:"flex flex-col items-start text-left normal-case",children:[a.jsx(u,{variant:"body2",className:"font-semibold line-clamp-1",children:e.name}),a.jsx(u,{variant:"caption",color:"text.secondary",children:e.role})]}),a.jsx(br,{className:`${r?"rotate-270":"rotate-90"} transition-transform text-foreground-secondary ml-1`})]}):a.jsxs(m,{className:"flex gap-2",children:[a.jsx(C,{component:b,to:"/login",variant:"outlined",color:"primary",size:"small",className:"rounded-full px-6",children:"Login"}),a.jsx(C,{component:b,to:"/register",variant:"contained",color:"primary",size:"small",className:"rounded-full px-6",children:"Register"})]})]}),a.jsxs(Nr,{anchorEl:r,open:!!r,onClose:x,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiPaper-root":{background:"var(--color-background-paper)",mt:1,borderRadius:"10px",minWidth:"220px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(0, 0, 0, 0.1)"}},children:[a.jsxs(m,{className:"px-5 pt-0.5 pb-2.5 border-b border-[#1E1E1E0D]",children:[a.jsx(u,{variant:"h6",className:"text-foreground-primary",children:e?.name}),a.jsx(u,{variant:"body1",className:"text-foreground-secondary",children:e?.email})]}),a.jsx(Rr,{orientation:"horizontal"}),v.map(n=>a.jsxs(E,{onClick:()=>{g(n.path),x()},className:"py-3 px-5 hover:bg-background-paper-light transition-colors",children:[a.jsx(S,{className:"text-xl text-foreground-secondary min-w-[35px]",children:n.icon}),a.jsx(U,{primary:n.label,primaryTypographyProps:{variant:"body2",className:"font-medium"}})]},n.path)),a.jsxs(E,{onClick:f,className:"px-5 py-3",disabled:p,children:[a.jsx(S,{className:"text-red-600 text-xl",children:p?a.jsx(yr,{size:18}):a.jsx(Or,{})}),a.jsx(U,{primary:"Logout",slotProps:{primary:{className:"font-[12px] leading-[150%] text-red-600"}}})]})]})]})};export{Zr as F,Gr as H};
