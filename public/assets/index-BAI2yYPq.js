import{r as c,u as N,j as e,c as a,B as F,a8 as S,a9 as v}from"./index-B_2ZYanf.js";import{u as w}from"./useSnackbar-CoKDEOe7.js";import{d as E,A as P}from"./authSchema-BWpDoYDE.js";import{F as T,a as k,b as u}from"./formik.esm-B7al3lwn.js";import{T as p}from"./Typography-CJmFx3Tj.js";import{F as B}from"./Menu-p_mUGGRe.js";import{F as x,T as h}from"./TextField-BZ9SVMZh.js";import{D as U}from"./Divider-D6eQ4lsK.js";import"./createSvgIcon-CECKdikk.js";import"./IconButton-BINfcKHQ.js";import"./Portal-BBa1Pjsa.js";import"./List-B8fLbvj2.js";import"./Select-CxUoqIFD.js";import"./useControlled-BVDGpJF_.js";import"./isMuiElement-BXISGSkC.js";import"./dividerClasses-DXeECBMQ.js";const I=E(),X=()=>{const[t,n]=c.useState(""),f=w(),{user:l,setUser:j}=N(),b=async(o,{setErrors:s,resetForm:r})=>{n("");const y={email:o.email,name:o.name},{data:m,error:i}=await S(y);if(m){f({type:"success",message:m.message});const{data:d}=await v();d&&j(d?.data),r()}i&&(i.errors?s(i.errors):n(i.message))},g=c.useMemo(()=>({name:l?.name||"",email:l?.email||"",avatar:null}),[l]);return e.jsxs(a,{className:"px-3",children:[e.jsxs(a,{className:"mb-5",children:[e.jsx(p,{variant:"h5",className:"text-foreground-primary",children:"Profile Information"}),e.jsx(p,{variant:"body1",children:"Update your name and email address"})]}),e.jsx(a,{className:"p-8 rounded-xl border-[0.6px] border-background-paper-light bg-background-paper w-full max-w-200",children:e.jsx(T,{initialValues:g,validationSchema:I,onSubmit:b,enableReinitialize:!0,children:({isSubmitting:o})=>e.jsxs(k,{className:"flex flex-col gap-4",children:[t&&e.jsx(B,{in:!!t,children:e.jsx(P,{severity:"error",children:t})}),e.jsxs(a,{className:"grid grid-cols-3 w-full",children:[e.jsx(a,{className:"col-span-1",children:e.jsx(x,{children:"Username"})}),e.jsx(a,{className:"col-span-2",children:e.jsx(u,{name:"name",children:({field:s,meta:r})=>e.jsx(h,{...s,id:"name",type:"text",required:!0,autoFocus:!0,autoComplete:"name",fullWidth:!0,placeholder:"Enter your username",sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px"}},error:r.touched&&!!r.error,helperText:r.touched&&r.error})})})]}),e.jsx(U,{flexItem:!0,orientation:"horizontal"}),e.jsxs(a,{className:"grid grid-cols-3 w-full",children:[e.jsx(a,{className:"col-span-1",children:e.jsx(x,{children:"Email Address"})}),e.jsx(a,{className:"col-span-2",children:e.jsx(u,{name:"email",children:({field:s,meta:r})=>e.jsx(h,{...s,id:"email",type:"email",required:!0,autoComplete:"email",fullWidth:!0,placeholder:"Enter your email",sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px"}},error:r.touched&&!!r.error,helperText:r.touched&&r.error})})})]}),e.jsx(a,{}),e.jsx(F,{loading:o,variant:"contained",type:"submit",children:"Save"})]})})})]})};export{X as default};
