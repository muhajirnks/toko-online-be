import{v as y,w as j,r as M,x as w,j as o,E as S,F as k,G as I,u as B,c,L as x,n as T,aL as W,B as R,aM as z}from"./index-CoCr-Lwu.js";import{u as E}from"./useCartStore-BRvEBAv5.js";import{f as N}from"./stringUtils-CDJQw5-v.js";import{C as D,a as F}from"./CardContent-BGcpYZla.js";import{T as h}from"./Tooltip-RUjzR2Jp.js";import{I as b}from"./IconButton-De274572.js";import{C as O}from"./Chip-BPvolZT3.js";import{T as d}from"./Typography-3PLUSMmk.js";function P(e){return y("MuiCardMedia",e)}j("MuiCardMedia",["root","media","img"]);const U=e=>{const{classes:s,isMediaComponent:i,isImageComponent:t}=e;return I({root:["root",i&&"media",t&&"img"]},P,s)},L=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:i}=e,{isMediaComponent:t,isImageComponent:r}=i;return[s.root,t&&s.media,r&&s.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),A=["video","audio","picture","iframe","img"],_=["picture","img"],G=M.forwardRef(function(s,i){const t=w({props:s,name:"MuiCardMedia"}),{children:r,className:g,component:a="div",image:n,src:u,style:m,...f}=t,l=A.includes(a),C=!l&&n?{backgroundImage:`url("${n}")`,...m}:m,p={...t,component:a,isMediaComponent:l,isImageComponent:_.includes(a)},v=U(p);return o.jsx(L,{className:k(v.root,g),as:a,role:!l&&n?"img":void 0,ref:i,style:C,ownerState:p,src:l?n||u:void 0,...f,children:r})}),Y=({product:e})=>{const s=E(t=>t.addItem),i=B(t=>t.user);return o.jsxs(D,{sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",borderRadius:4,transition:"all 0.3s cubic-bezier(.25,.8,.25,1)",border:"1px solid transparent","&:hover":{boxShadow:"0 12px 20px rgba(0,0,0,0.1)",borderColor:"primary.light","& .product-actions":{opacity:1,transform:"translateX(0)"}}},children:[o.jsxs(c,{className:"product-actions",sx:{position:"absolute",right:12,top:12,display:"flex",flexDirection:"column",gap:1,zIndex:2,opacity:0,transform:"translateX(20px)",transition:"all 0.3s ease"},children:[o.jsx(h,{title:"Lihat Detail",placement:"left",children:o.jsx(b,{component:x,to:`/products/${e._id}`,sx:{bgcolor:"white","&:hover":{bgcolor:"primary.main",color:"white"},boxShadow:2},children:o.jsx(T,{size:20})})}),o.jsx(h,{title:"Tambah ke Favorit",placement:"left",children:o.jsx(b,{sx:{bgcolor:"white","&:hover":{bgcolor:"error.main",color:"white"},boxShadow:2},children:o.jsx(W,{size:20})})})]}),e.category&&o.jsx(O,{label:e.category.name,size:"small",sx:{position:"absolute",left:12,top:12,zIndex:2,bgcolor:"rgba(255,255,255,0.9)",fontWeight:"bold",backdropFilter:"blur(4px)"}}),o.jsxs(x,{to:`/products/${e._id}`,style:{textDecoration:"none",color:"inherit"},children:[o.jsxs(c,{sx:{position:"relative",overflow:"hidden"},children:[o.jsx(G,{component:"img",height:"220",image:e.imageUrl||"https://community.softr.io/uploads/db9110/original/2X/7/74e6e7e382d0ff5d7773ca9a87e6f6f8817a68a6.jpeg",alt:e.name,sx:{objectFit:"cover",transition:"transform 0.5s ease","&:hover":{transform:"scale(1.1)"}}}),e.stock<=0&&o.jsx(c,{sx:{position:"absolute",inset:0,bgcolor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(d,{color:"white",fontWeight:"bold",variant:"h6",children:"STOK HABIS"})})]}),o.jsxs(F,{sx:{flexGrow:1,pb:1},children:[o.jsx(d,{gutterBottom:!0,variant:"subtitle1",fontWeight:"bold",component:"div",noWrap:!0,sx:{mb:.5},children:e.name}),o.jsx(d,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.description}),o.jsx(d,{variant:"h6",color:"primary.main",fontWeight:"bold",children:N(e.price)})]})]}),i?.role=="user"&&o.jsx(c,{sx:{p:2,pt:0},children:o.jsx(R,{fullWidth:!0,variant:"contained",startIcon:o.jsx(z,{}),onClick:()=>s(e),disabled:e.stock<=0,sx:{borderRadius:2,textTransform:"none",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}},children:e.stock>0?"Beli Sekarang":"Stok Habis"})})]})};export{Y as P};
