import{a8 as f,r as i,j as a,au as p,c as x,av as b,aw as H,B as D}from"./index-CoCr-Lwu.js";import{b as N}from"./index-BWLtMYHi.js";import{I as w}from"./IconButton-De274572.js";import{b as V}from"./TextField-CWhFec2Z.js";function I(t){return f({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"},child:[]}]})(t)}function T(t){return f({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.85858 2.87732L15.4293 1.0815C15.7027 1.04245 15.9559 1.2324 15.995 1.50577C15.9983 1.52919 16 1.55282 16 1.57648V22.4235C16 22.6996 15.7761 22.9235 15.5 22.9235C15.4763 22.9235 15.4527 22.9218 15.4293 22.9184L2.85858 21.1226C2.36593 21.0522 2 20.6303 2 20.1327V3.86727C2 3.36962 2.36593 2.9477 2.85858 2.87732ZM17 2.99997H21C21.5523 2.99997 22 3.44769 22 3.99997V20C22 20.5523 21.5523 21 21 21H17V2.99997ZM10.2 12L13 7.99997H10.6L9 10.2857L7.39999 7.99997H5L7.8 12L5 16H7.39999L9 13.7143L10.6 16H13L10.2 12Z"},child:[]}]})(t)}function R(t){return f({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.9985 2C3.44749 2 3 2.44405 3 2.9918V21.0082C3 21.5447 3.44476 22 3.9934 22H20.0066C20.5551 22 21 21.5489 21 20.9925L20.9997 7L16 2H3.9985ZM10.5 7.5H12.5C12.5 9.98994 14.6436 12.6604 17.3162 13.5513L16.8586 15.49C13.7234 15.0421 10.4821 16.3804 7.5547 18.3321L6.3753 16.7191C7.46149 15.8502 8.50293 14.3757 9.27499 12.6534C10.0443 10.9373 10.5 9.07749 10.5 7.5ZM11.1 13.4716C11.3673 12.8752 11.6043 12.2563 11.8037 11.6285C12.2754 12.3531 12.8553 13.0182 13.5102 13.5953C12.5284 13.7711 11.5666 14.0596 10.6353 14.4276C10.8 14.1143 10.9551 13.7948 11.1 13.4716Z"},child:[]}]})(t)}function Z(t){return f({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2.99997H21C21.5523 2.99997 22 3.44769 22 3.99997V20C22 20.5523 21.5523 21 21 21H17V2.99997ZM2.85858 2.87732L15.4293 1.0815C15.7027 1.04245 15.9559 1.2324 15.995 1.50577C15.9983 1.52919 16 1.55282 16 1.57648V22.4235C16 22.6996 15.7761 22.9235 15.5 22.9235C15.4763 22.9235 15.4527 22.9218 15.4293 22.9184L2.85858 21.1226C2.36593 21.0522 2 20.6303 2 20.1327V3.86727C2 3.36962 2.36593 2.9477 2.85858 2.87732ZM11 7.99997V12.989L9 11L7.01083 13L7 7.99997H5V16H7L9 14L11 16H13V7.99997H11Z"},child:[]}]})(t)}const B=t=>t.split(".").pop()?.toLowerCase()||"",$=t=>typeof t=="string"?t.split("?")[0].split("/").pop()||"":t?t.name:"",E=t=>{switch(B(t)){case"pdf":return a.jsx(R,{className:"text-6xl mx-auto text-gray-400"});case"doc":case"docx":return a.jsx(Z,{className:"text-6xl mx-auto text-gray-400"});case"xls":case"xlsx":return a.jsx(T,{className:"text-6xl mx-auto text-gray-400"});case"txt":return a.jsx(N,{className:"text-6xl mx-auto text-gray-400"});default:return a.jsx(I,{className:"text-6xl mx-auto text-gray-400"})}},_=t=>typeof t=="string"?t.match(/\.(jpg|jpeg|png|gif)$/i)!==null:t?t.type.startsWith("image"):!1,z=t=>{const{placeholder:d,value:e,onChange:l,accept:h,error:g,helperText:m,multiple:s=!1,clearable:C=!0}=t,u=i.useMemo(()=>s?e?e instanceof FileList?`${e.length} files selected`:Array.isArray(e)?`${e.length} files selected`:"":"":$(e),[s,e]),c=i.useMemo(()=>s?!!e&&(e instanceof FileList&&e.length>0||Array.isArray(e)&&e.length>0):!!e&&e!=="_delete",[s,e]),L=i.useMemo(()=>c?E(u):a.jsx(p,{className:"text-4xl mx-auto text-gray-400"}),[c,u]),j=i.useMemo(()=>!s&&_(e),[e,s]),n=i.useRef(null),y=()=>{if(n.current&&l)if(s)l(null);else{const r=l;n.current?.files?.length||e==="_delete"?r(null):r("_delete")}},v=async r=>{r.preventDefault(),r.currentTarget.classList.remove("bg-gray-100");const o=r.dataTransfer;!o||!o.files||o.files.length===0||l&&l(s?o.files:o.files[0]||null)},F=r=>{r.preventDefault(),r.currentTarget.classList.add("bg-gray-100")},M=r=>{r.preventDefault(),r.currentTarget.classList.remove("bg-gray-100")};return i.useEffect(()=>{if(s){if(!e&&n.current){const r=new DataTransfer;n.current.files=r.files}}else if((!e||typeof e=="string")&&n.current){const r=new DataTransfer;n.current.files=r.files}},[e,s]),a.jsxs(x,{children:[a.jsxs(x,{className:"w-full relative overflow-hidden",onDragOver:F,onDragLeave:M,onDrop:v,children:[c&&C&&a.jsx(w,{className:`absolute top-2 right-2 z-10 ${e!=="_delete"?"text-red-600":"text-gray-400"}`,onClick:y,children:e!=="_delete"?a.jsx(b,{}):a.jsx(H,{})}),a.jsxs(x,{color:"inherit",className:`w-full rounded-lg py-10 p-0 border-2 border-dashed relative grid place-items-center ${g?"border-red-600":"border-gray-300"}`,children:[j&&!s?a.jsx(x,{children:a.jsx("img",{src:typeof e=="string"?e:URL.createObjectURL(e),alt:u,className:"w-full h-full object-cover"})}):a.jsxs(x,{className:"flex flex-col items-center gap-3 px-3",children:[L,a.jsx("span",{className:"font-normal text-gray-500 text-center break-all",children:c?u:d||"Upload File"}),a.jsx(D,{variant:"outlined",startIcon:a.jsx(p,{}),sx:{borderColor:"#000000",color:"#000000",borderRadius:"12px",textTransform:"none",fontWeight:600},onClick:()=>n.current?.click(),children:c?"Change File":"Choose Files"})]}),a.jsx("input",{ref:n,type:"file",hidden:!0,accept:h,multiple:s,onChange:r=>{if(l)if(s){l(r.target.files);const o=new DataTransfer;r.target.files=o.files}else l(r.target.files?.[0]||null)}})]})]}),m&&a.jsx(V,{className:`${g?"text-red-700":"text-gray-500"} text-[12px]/normal max-sm:text-[10px]/normal max-md:text-[11px]/normal`,children:m})]})};export{z as F};
