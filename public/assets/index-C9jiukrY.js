import{k as b,r as o,j as r,L as y,P as c,aJ as P,c as n,aK as k,_ as v}from"./index-CoCr-Lwu.js";import{P as C}from"./ProductCard-DFK2PqHh.js";import{u as I}from"./useCategoryStore-0YqKzszP.js";import{u as S}from"./product.service-Dk86rO-g.js";import{C as L}from"./Container-DLkYmbpc.js";import{B as W,L as z}from"./Link-DOQsPX9o.js";import{T as s}from"./Typography-3PLUSMmk.js";import{G as i}from"./Grid-BdMrhXSd.js";import{T as M,a as K,I as _}from"./TextField-CWhFec2Z.js";import{I as B}from"./InputAdornment-BUUN-303.js";import{D as E}from"./Divider-CEmajuvZ.js";import{S as F}from"./Select-eAE6PZsy.js";import{M as p}from"./MenuItem-Cds6f5lz.js";import"./useCartStore-BRvEBAv5.js";import"./stringUtils-CDJQw5-v.js";import"./CardContent-BGcpYZla.js";import"./Tooltip-RUjzR2Jp.js";import"./useControlled-CQs6qZha.js";import"./Portal-Db180ur5.js";import"./IconButton-De274572.js";import"./Chip-BPvolZT3.js";import"./createSvgIcon-f0cybHIH.js";import"./useFetch-Ef9WPhKv.js";import"./prepareFormData-CaUafuFc.js";import"./styled-Dr_zOePF.js";import"./isMuiElement-41k7TQVi.js";import"./dividerClasses-QzE5IgDx.js";import"./Menu-BHH0Xlnd.js";import"./List-B8z-TvVg.js";import"./listItemIconClasses-C8DadHf-.js";import"./listItemTextClasses-Djdqevzi.js";const xr=()=>{const[l,x]=b(),[a,h]=o.useState(l.get("search")||""),[t,u]=o.useState(l.get("categoryId")||""),{categories:m,fetchCategories:j}=I(),g=o.useMemo(()=>({search:a,categoryId:t,limit:12}),[a,t]),{data:d,loading:f}=S(g);return o.useEffect(()=>{j()},[]),o.useEffect(()=>{const e={};a&&(e.search=a),t&&(e.categoryId=t),x(e)},[a,t]),r.jsxs(L,{maxWidth:"xl",sx:{py:4},children:[r.jsxs(W,{sx:{mb:3},children:[r.jsx(z,{component:y,to:"/",underline:"hover",color:"inherit",children:"Beranda"}),r.jsx(s,{color:"text.primary",children:"Semua Produk"})]}),r.jsxs(i,{container:!0,spacing:4,children:[r.jsx(i,{size:{xs:12,md:3},children:r.jsxs(c,{sx:{p:3,borderRadius:4,position:"sticky",top:100},children:[r.jsxs(s,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[r.jsx(P,{})," Filter"]}),r.jsxs(n,{sx:{mb:4},children:[r.jsx(s,{variant:"subtitle2",fontWeight:"bold",sx:{mb:1.5},children:"Cari"}),r.jsx(M,{fullWidth:!0,placeholder:"Nama produk...",size:"small",value:a,onChange:e=>h(e.target.value),InputProps:{startAdornment:r.jsx(B,{position:"start",children:r.jsx(k,{})})}})]}),r.jsx(E,{sx:{my:3}}),r.jsxs(n,{children:[r.jsx(s,{variant:"subtitle2",fontWeight:"bold",sx:{mb:1.5},children:"Kategori"}),r.jsxs(K,{fullWidth:!0,size:"small",children:[r.jsx(_,{children:"Pilih Kategori"}),r.jsxs(F,{value:t,label:"Pilih Kategori",onChange:e=>u(e.target.value),children:[r.jsx(p,{value:"",children:"Semua Kategori"}),m.map(e=>r.jsx(p,{value:e._id,children:e.name},e._id))]})]})]})]})}),r.jsxs(i,{size:{xs:12,md:9},children:[r.jsxs(n,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(s,{variant:"h5",fontWeight:"bold",children:t?m.find(e=>e._id===t)?.name:"Semua Produk"}),r.jsxs(s,{variant:"body2",color:"text.secondary",children:["Menampilkan ",d?.data.length||0," produk"]})]}),f?r.jsx(n,{sx:{display:"flex",justifyContent:"center",py:8},children:r.jsx(v,{})}):r.jsxs(i,{container:!0,spacing:3,children:[d?.data.map(e=>r.jsx(i,{size:{xs:12,sm:6,md:4},children:r.jsx(C,{product:e})},e._id)),d?.data.length===0&&r.jsx(i,{size:{xs:12},children:r.jsxs(c,{sx:{py:10,textAlign:"center",borderRadius:4,bgcolor:"grey.50"},children:[r.jsx(s,{variant:"h6",color:"text.secondary",children:"Oops! Produk tidak ditemukan."}),r.jsx(s,{variant:"body2",color:"text.secondary",children:"Coba cari dengan kata kunci lain atau pilih kategori berbeda."})]})})]})]})]})]})};export{xr as default};
