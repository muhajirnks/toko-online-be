import{t as y,v as j,r as M,w,j as o,C as k,A as S,E as I,c as d,L as x,m as B,ay as T,B as W,az as z}from"./index-Dio-x1pl.js";import{u as R}from"./useCartStore-GrKeQgyK.js";import{f as E}from"./useFetch-CwOGASkE.js";import{C as N,a as D}from"./CardContent-czLNJdeW.js";import{T as h}from"./Tooltip-C78oHhd0.js";import{I as b}from"./IconButton-CCAMRddQ.js";import{C as O}from"./Chip-BeTkWn7M.js";import{T as c}from"./Typography-DwSWE2aq.js";function P(e){return y("MuiCardMedia",e)}j("MuiCardMedia",["root","media","img"]);const A=e=>{const{classes:t,isMediaComponent:i,isImageComponent:s}=e;return I({root:["root",i&&"media",s&&"img"]},P,t)},F=k("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{isMediaComponent:s,isImageComponent:r}=i;return[t.root,s&&t.media,r&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),U=["video","audio","picture","iframe","img"],L=["picture","img"],_=M.forwardRef(function(t,i){const s=w({props:t,name:"MuiCardMedia"}),{children:r,className:g,component:a="div",image:n,src:f,style:m,...u}=s,l=U.includes(a),C=!l&&n?{backgroundImage:`url("${n}")`,...m}:m,p={...s,component:a,isMediaComponent:l,isImageComponent:L.includes(a)},v=A(p);return o.jsx(F,{className:S(v.root,g),as:a,role:!l&&n?"img":void 0,ref:i,style:C,ownerState:p,src:l?n||f:void 0,...u,children:r})}),Q=({product:e})=>{const t=R(i=>i.addItem);return o.jsxs(N,{sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",borderRadius:4,transition:"all 0.3s cubic-bezier(.25,.8,.25,1)",border:"1px solid transparent","&:hover":{boxShadow:"0 12px 20px rgba(0,0,0,0.1)",borderColor:"primary.light","& .product-actions":{opacity:1,transform:"translateX(0)"}}},children:[o.jsxs(d,{className:"product-actions",sx:{position:"absolute",right:12,top:12,display:"flex",flexDirection:"column",gap:1,zIndex:2,opacity:0,transform:"translateX(20px)",transition:"all 0.3s ease"},children:[o.jsx(h,{title:"Lihat Detail",placement:"left",children:o.jsx(b,{component:x,to:`/products/${e._id}`,sx:{bgcolor:"white","&:hover":{bgcolor:"primary.main",color:"white"},boxShadow:2},children:o.jsx(B,{size:20})})}),o.jsx(h,{title:"Tambah ke Favorit",placement:"left",children:o.jsx(b,{sx:{bgcolor:"white","&:hover":{bgcolor:"error.main",color:"white"},boxShadow:2},children:o.jsx(T,{size:20})})})]}),e.category&&o.jsx(O,{label:e.category.name,size:"small",sx:{position:"absolute",left:12,top:12,zIndex:2,bgcolor:"rgba(255,255,255,0.9)",fontWeight:"bold",backdropFilter:"blur(4px)"}}),o.jsxs(x,{to:`/products/${e._id}`,style:{textDecoration:"none",color:"inherit"},children:[o.jsxs(d,{sx:{position:"relative",overflow:"hidden"},children:[o.jsx(_,{component:"img",height:"220",image:e.imageUrl||"https://community.softr.io/uploads/db9110/original/2X/7/74e6e7e382d0ff5d7773ca9a87e6f6f8817a68a6.jpeg",alt:e.name,sx:{objectFit:"cover",transition:"transform 0.5s ease","&:hover":{transform:"scale(1.1)"}}}),e.stock<=0&&o.jsx(d,{sx:{position:"absolute",inset:0,bgcolor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(c,{color:"white",fontWeight:"bold",variant:"h6",children:"STOK HABIS"})})]}),o.jsxs(D,{sx:{flexGrow:1,pb:1},children:[o.jsx(c,{gutterBottom:!0,variant:"subtitle1",fontWeight:"bold",component:"div",noWrap:!0,sx:{mb:.5},children:e.name}),o.jsx(c,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.description}),o.jsx(c,{variant:"h6",color:"primary.main",fontWeight:"bold",children:E(e.price)})]})]}),o.jsx(d,{sx:{p:2,pt:0},children:o.jsx(W,{fullWidth:!0,variant:"contained",startIcon:o.jsx(z,{}),onClick:()=>t(e),disabled:e.stock<=0,sx:{borderRadius:2,textTransform:"none",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}},children:e.stock>0?"Beli Sekarang":"Stok Habis"})})]})};export{Q as P};
